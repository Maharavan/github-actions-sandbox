name: Reuse deploy
on: 
    workflow_call: 
        inputs:
            artifact-name: # variable name
                description: the name of artifact # description
                required: false # if variable required true else false to check availability
                type: string #type of input mandatory
                default: dist # default value
        outputs:
            info:
                description: info about job
                value: ${{ jobs.deploy.outputs.outcome }} # jobs another context used in reusable workflow 
                
        # secrets:
        #     some-secret:
        #         required: false

jobs:  
    deploy: 
        outputs:
            outcome: ${{steps.set-result.outputs.step-info}}
        runs-on: ubuntu-latest
        steps:
            - name: download artifact
              uses: actions/download-artifact@v4
              with:
                name: ${{ inputs.artifact-name }}
                path: ${{ inputs.artifact-name }}
            - name: check files
              run: |
                    cd ${{ inputs.artifact-name }}
                    ls
            - name: Output info
              id: set-result
              run: |
                    echo "step-info<<EOF" >> $GITHUB_OUTPUT
                    echo "${{toJson(github)}}" >> $GITHUB_OUTPUT
                    echo "EOF" >> $GITHUB_OUTPUT

# EOF makes <<EOF start and EOF makes end in-between it treat as single value